<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="kr.co.multicafe.dao.RecentMapper">
	<resultMap type="Menu" id="menu_resultMap">
		<result column="menu_id" property="menuId"/>
		<result column="category_id" property="categoryId"/>
		<result column="cafe_id" property="cafeId"/>
	</resultMap>
	
	<!-- ListView -->
	<select id="listViewRecent" parameterType="int" resultMap="menu_resultMap">
		select m.menu_id, m.name, m.price, m.description, m.grade, m.keyword, m.image, m.sweet, m.bitter, m.sour 
		from recent r, menu m 
		where r.menu_id=m.menu_id and r.user_id=#{userId}
	</select>
	
	<!-- Insert -->
	<insert id="insertRecent" parameterType="int">
		insert into recent(recent_id, menu_id, user_id)
		values (recent_seq.nextval, #{menuId}, #{userId})
	</insert>
</mapper>